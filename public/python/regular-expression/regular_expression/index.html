<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Hans">

  
  
  
    
  
  <meta name="description" content="regular expression is quick!">

  
  <link rel="alternate" hreflang="en-us" href="/python/regular-expression/regular_expression/">

  


  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.dd629241ea9333c62c071f4a25f829ff.css">

  

  
  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/python/regular-expression/regular_expression/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Math">
  <meta property="og:url" content="/python/regular-expression/regular_expression/">
  <meta property="og:title" content="regular-expression | Math">
  <meta property="og:description" content="regular expression is quick!"><meta property="og:image" content="/img/icon-192.png">
  <meta property="twitter:image" content="/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-08-05T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2019-08-05T00:00:00&#43;00:00">
  

  


  





  <title>regular-expression | Math</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Math</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#python"><span>Python</span></a>
        </li>

        
        

        

        
        
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#R"><span>R</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#Reinforcement_learning"><span>Reinforcement Learning</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">regular-expression</h1>

  
  <p class="page-subtitle">regular-expression</p>
  

  
    



<meta content="2019-08-05 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-08-05 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  
  
  
  <div>
    



  <span itemprop="author name" itemtype="http://schema.org/Person"><a href="/authors/admin/">Hans</a></span>

  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    <time>Aug 5, 2019</time>
  </span>
  

  

  

  
  
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/python/regular-expression/regular_expression/&amp;text=regular-expression" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/python/regular-expression/regular_expression/&amp;t=regular-expression" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=regular-expression&amp;body=/python/regular-expression/regular_expression/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/python/regular-expression/regular_expression/&amp;title=regular-expression" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=regular-expression%20/python/regular-expression/regular_expression/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/python/regular-expression/regular_expression/&amp;title=regular-expression" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<table>
<thead>
<tr class="header">
<th>字元分類</th>
<th>表示</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>\d</td>
<td>0-9的任何數字</td>
</tr>
<tr class="even">
<td>\D</td>
<td>除了0-9的任何數字</td>
</tr>
<tr class="odd">
<td>\w</td>
<td>任何字母,數字或底線</td>
</tr>
<tr class="even">
<td>\W</td>
<td>除了字母,數字或底線以外的任何字元</td>
</tr>
<tr class="odd">
<td>\s</td>
<td>空格,定位符號或換行符號</td>
</tr>
<tr class="even">
<td>\S</td>
<td>除了空格,定位符號或換行符號以外的任何字元</td>
</tr>
</tbody>
</table>
<div class="book">
<ul class="itemizedlist">
<li class="listitem">
<p class="calibre4">
The <code class="literal1">?</code> matches zero or one of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">*</code> matches zero or more of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">+</code> matches one or more of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">{n}</code> matches exactly <span class="calibre1"><em class="calibre5">n</em></span> of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">{n,}</code> matches <span class="calibre1"><em class="calibre5">n</em></span> or more of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">{,m}</code> matches 0 to <span class="calibre1"><em class="calibre5">m</em></span> of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">{n,m}</code> matches at least <span class="calibre1"><em class="calibre5">n</em></span> and at most <span class="calibre1"><em class="calibre5">m</em></span> of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
<code class="literal1">{n,m}?</code> or <code class="literal1">*?</code> or <code class="literal1">+?</code> performs a nongreedy match of the preceding group.
</p>
</li>
<li class="listitem">
<p class="calibre4">
<code class="literal1">^spam</code> means the string must begin with <span class="calibre1"><em class="calibre5">spam</em></span>.
</p>
</li>
<li class="listitem">
<p class="calibre4">
<code class="literal1">spam$</code> means the string must end with <span class="calibre1"><em class="calibre5">spam</em></span>.
</p>
</li>
<li class="listitem">
<p class="calibre4">
The <code class="literal1">.</code> matches any character, except newline characters.
</p>
</li>
</ul>
</div>
<ul>
<li><p>\d, \w, and \s match a digit, word, or space character, respectively.</p></li>
<li><p>\D, \W, and \S match anything except a digit, word, or space character, respectively.</p></li>
<li><p>[abc] matches any character between the brackets (such as a, b, or c).</p></li>
<li><p>[^abc] matches any character that isn’t between the brackets.</p></li>
</ul>
<div id="python--re" class="section level3">
<h3>python 正規表達式 都在re模組</h3>
<ol style="list-style-type: decimal">
<li>import re</li>
<li>re.complie() 建立 Regex物件 (記得使用原始字串 (r))</li>
<li>對 Regex 物件的 search() 方法傳入想要尋找的字串,會返回一個Match物件</li>
<li>呼叫Match物件的group()方法,返回實際比對符合的字串</li>
</ol>
<pre class="python"><code>import re

phoneNumRegex = re.compile(r&#39;\d\d\d-\d\d\d-\d\d\d\d&#39;)
mo = phoneNumRegex.search(&#39;My number is 415-555-4242.&#39;)
print(&#39;Phone number found: &#39; + mo.group())</code></pre>
<pre><code>## Phone number found: 415-555-4242</code></pre>
<p>我們想要把區域號碼從電話號碼中分開,可在正規表達式中加上括號來分組:</p>
<p><code>(\d\d\d)-(\d\d\d-\d\d\d\d)</code></p>
<p>隨後使用 group() 方法從某個分組中取得比對符合的文字</p>
<pre class="python"><code>phoneNumRegex = re.compile(r&#39;(\d\d\d)-(\d\d\d-\d\d\d\d)&#39;)
mo = phoneNumRegex.search(&#39;My number is 415-555-4242.&#39;)
mo.group(1)</code></pre>
<pre><code>## &#39;415&#39;</code></pre>
<pre class="python"><code>mo.group(2)</code></pre>
<pre><code>## &#39;555-4242&#39;</code></pre>
<pre class="python"><code>mo.group(0)</code></pre>
<pre><code>## &#39;415-555-4242&#39;</code></pre>
<pre class="python"><code>mo.group()</code></pre>
<pre><code>## &#39;415-555-4242&#39;</code></pre>
<p>想要一次取得所有的分組,可用groups()方法</p>
<pre class="python"><code>mo.groups()</code></pre>
<pre><code>## (&#39;415&#39;, &#39;555-4242&#39;)</code></pre>
<pre class="python"><code>areaCode,mainNumber = mo.groups()
print(areaCode)</code></pre>
<pre><code>## 415</code></pre>
<pre class="python"><code>print(mainNumber)</code></pre>
<pre><code>## 555-4242</code></pre>
<p>想要在字串中比對括號,使用<code>\(</code> 和 <code>\)</code></p>
<p>在傳入 re.compile()的原始字串內的<code>\(</code> 和 <code>\)</code>會變得實際比對()括號</p>
<pre class="python"><code>phoneNumRegex = re.compile(r&#39;(\(\d\d\d\)) (\d\d\d-\d\d\d\d)&#39;)
mo = phoneNumRegex.search(&#39;My phone number is (415) 555-4242.&#39;)
mo.group(1)</code></pre>
<pre><code>## &#39;(415)&#39;</code></pre>
<pre class="python"><code>mo.group(2)</code></pre>
<pre><code>## &#39;555-4242&#39;</code></pre>
<div id="matching-multiple-groups-with-the-pipe" class="section level4">
<h4>Matching Multiple Groups with the Pipe</h4>
<p>正規表達式 r’Batman|Tina Fey’ 會比對 ‘Batman’ 或 ‘Tina Fey’</p>
<pre class="python"><code>heroRegex = re.compile (r&#39;Batman|Tina Fey&#39;)
mo1 = heroRegex.search(&#39;Batman and Tina Fey.&#39;)
mo1.group()</code></pre>
<pre><code>## &#39;Batman&#39;</code></pre>
<p>想要比對’Batman’, ‘Batmobile’, ‘Batcopter’, ‘Batbat’ 中任一個都符合,因為都以’Bat’開頭 所以只要指定一次前置文字即可,利用括號</p>
<pre class="python"><code>batRegex = re.compile(r&#39;Bat(man|mobile|copter|bat)&#39;)
mo = batRegex.search(&#39;Batmobile lost a wheel&#39;)
mo.group()</code></pre>
<pre><code>## &#39;Batmobile&#39;</code></pre>
<pre class="python"><code>mo.group(1)</code></pre>
<pre><code>## &#39;mobile&#39;</code></pre>
</div>
<div id="optional-matching-with-the-question-mark" class="section level4">
<h4>Optional Matching with the Question Mark</h4>
<p>問號表示無論內容是否存在,正規表達式都會比對符合</p>
<p>?字元表示他前面括號的分組在這模式中是可選擇性的</p>
<p>?字元可看成 <strong>這個問號前的分組比對符合1次或0次</strong>都可以</p>
<pre class="python"><code>batRegex = re.compile(r&#39;Bat(wo)?man&#39;)
mo1 = batRegex.search(&#39;The Adventures of Batman&#39;)
mo1.group()</code></pre>
<pre><code>## &#39;Batman&#39;</code></pre>
<pre class="python"><code>mo2 = batRegex.search(&#39;The Adventures of Batwoman&#39;)
mo2.group()</code></pre>
<pre><code>## &#39;Batwoman&#39;</code></pre>
<p>用前面電話號碼來做說明,可在正規表達式中尋找含有區號和不含區號的電話號碼</p>
<pre class="python"><code>phoneRegex = re.compile(r&#39;(\d\d\d-)?\d\d\d-\d\d\d\d&#39;)
mo1 = phoneRegex.search(&#39;My number is 415-555-4242&#39;)
mo1.group()</code></pre>
<pre><code>## &#39;415-555-4242&#39;</code></pre>
<pre class="python"><code>mo2 = phoneRegex.search(&#39;My number is 555-4242&#39;)
mo2.group()</code></pre>
<pre><code>## &#39;555-4242&#39;</code></pre>
</div>
<div id="matching-zero-or-more-with-the-star" class="section level4">
<h4>Matching Zero or More with the Star</h4>
<p><strong>* </strong>字元可看成 <strong>這個星號前的分組比對符合多次或0次</strong>都可以</p>
<pre class="python"><code>batRegex = re.compile(r&#39;Bat(wo)*man&#39;)
mo1 = batRegex.search(&#39;The Adventures of Batman&#39;)
mo1.group()
</code></pre>
<pre><code>## &#39;Batman&#39;</code></pre>
<pre class="python"><code>mo2 = batRegex.search(&#39;The Adventures of Batwoman&#39;)
mo2.group()
</code></pre>
<pre><code>## &#39;Batwoman&#39;</code></pre>
<pre class="python"><code>mo3 = batRegex.search(&#39;The Adventures of Batwowowowoman&#39;)
mo3.group()</code></pre>
<pre><code>## &#39;Batwowowowoman&#39;</code></pre>
</div>
<div id="matching-one-or-more-with-the-plus" class="section level4">
<h4>Matching One or More with the Plus</h4>
<p><strong>+</strong>字元可看成 <strong>這個+前的分組比對符合多次或1次</strong>都可以</p>
<pre class="python"><code>batRegex = re.compile(r&#39;Bat(wo)+man&#39;)
mo1 = batRegex.search(&#39;The Adventures of Batwoman&#39;)
mo1.group()
</code></pre>
<pre><code>## &#39;Batwoman&#39;</code></pre>
<pre class="python"><code>mo2 = batRegex.search(&#39;The Adventures of Batwowowowoman&#39;)
mo2.group()
</code></pre>
<pre><code>## &#39;Batwowowowoman&#39;</code></pre>
<pre class="python"><code>mo3 = batRegex.search(&#39;The Adventures of Batman&#39;)
mo3 == None</code></pre>
<pre><code>## True</code></pre>
</div>
<div id="matching-specific-repetitions-with-curly-brackets" class="section level4">
<h4>Matching Specific Repetitions with Curly Brackets(大括號)</h4>
<p>(Ha){3} 與 (Ha)(Ha)(Ha) 表達意思相同</p>
<p>(Ha){3,5} 與 ((Ha)(Ha)(Ha))|((Ha)(Ha)(Ha)(Ha))|((Ha)(Ha)(Ha)(Ha)(Ha)) 表達意思相同</p>
<p>(Ha){3,} 表示比對符合至少3次以上</p>
<pre class="python"><code>haRegex = re.compile(r&#39;(Ha){3}&#39;)
mo1 = haRegex.search(&#39;HaHaHa&#39;)
mo1.group()
</code></pre>
<pre><code>## &#39;HaHaHa&#39;</code></pre>
<pre class="python"><code>mo2 = haRegex.search(&#39;Ha&#39;)
mo2 == None</code></pre>
<pre><code>## True</code></pre>
</div>
<div id="greedy-and-nongreedy-matching" class="section level4">
<h4>Greedy and Nongreedy Matching</h4>
<p>python 正規表達式預設是greedy版本,就是盡可能找到最長符合比對的字串</p>
<p>在大括弧後面加上一個問號,大括弧的non-greedy版本會盡可能找到最短符合比對的字串</p>
<pre class="python"><code>greedyHaRegex = re.compile(r&#39;(Ha){3,5}&#39;)
mo1 = greedyHaRegex.search(&#39;HaHaHaHaHa&#39;)
mo1.group()</code></pre>
<pre><code>## &#39;HaHaHaHaHa&#39;</code></pre>
<pre class="python"><code>nongreedyHaRegex = re.compile(r&#39;(Ha){3,5}?&#39;)
mo2 = nongreedyHaRegex.search(&#39;HaHaHaHaHa&#39;)
mo2.group()</code></pre>
<pre><code>## &#39;HaHaHa&#39;</code></pre>
</div>
<div id="the-findall-method" class="section level4">
<h4>The findall() Method</h4>
<p>search()方法會返回一個match物件,此物件內含有尋找比對字串中<strong>第一次</strong>找到符合的文字</p>
<p>findall()方法則返回一組list,這組list為尋找比對字串中<strong>所有</strong>符合的文字內容</p>
<pre class="python"><code>phoneNumRegex = re.compile(r&#39;\d\d\d-\d\d\d-\d\d\d\d&#39;)
mo = phoneNumRegex.search(&#39;Cell: 415-555-9999 Work: 212-555-0000&#39;)
mo.group()</code></pre>
<pre><code>## &#39;415-555-9999&#39;</code></pre>
<pre class="python"><code>phoneNumRegex = re.compile(r&#39;\d\d\d-\d\d\d-\d\d\d\d&#39;) # has no groups
phoneNumRegex.findall(&#39;Cell: 415-555-9999 Work: 212-555-0000&#39;)</code></pre>
<pre><code>## [&#39;415-555-9999&#39;, &#39;212-555-0000&#39;]</code></pre>
<p>如果有分組,那findall會返回一個多元組(list of tuples)的list,每個多元組代表一個比對符合的內容</p>
<pre class="python"><code>phoneNumRegex = re.compile(r&#39;(\d\d\d)-(\d\d\d)-(\d\d\d\d)&#39;) # has groups
phoneNumRegex.findall(&#39;Cell: 415-555-9999 Work: 212-555-0000&#39;)</code></pre>
<pre><code>## [(&#39;415&#39;, &#39;555&#39;, &#39;9999&#39;), (&#39;212&#39;, &#39;555&#39;, &#39;0000&#39;)]</code></pre>
</div>
</div>
<div id="character-classes" class="section level3">
<h3>Character Classes</h3>
<table>
<thead>
<tr class="header">
<th>字元分類</th>
<th>表示</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>\d</td>
<td>0-9的任何數字</td>
</tr>
<tr class="even">
<td>\D</td>
<td>除了0-9的任何數字</td>
</tr>
<tr class="odd">
<td>\w</td>
<td>任何字母,數字或底線</td>
</tr>
<tr class="even">
<td>\W</td>
<td>除了字母,數字或底線以外的任何字元</td>
</tr>
<tr class="odd">
<td>\s</td>
<td>空格,定位符號或換行符號</td>
</tr>
<tr class="even">
<td>\S</td>
<td>除了空格,定位符號或換行符號以外的任何字元</td>
</tr>
</tbody>
</table>
<p>\d is shorthand for the regular expression (0|1|2|3|4|5|6|7|8|9)</p>
<p>[0-5] is shorthand for the regular expression (0|1|2|3|4|5)</p>
<pre class="python"><code>xmasRegex = re.compile(r&#39;\d+\s\w+&#39;)
xmasRegex.findall(&#39;12 drummers, 11 pipers, 10 lords, 9 ladies, 8 maids, 7 swans, 6 geese, 5 rings, 4 birds, 3 hens, 2 doves, 1 partridge&#39;)</code></pre>
<pre><code>## [&#39;12 drummers&#39;, &#39;11 pipers&#39;, &#39;10 lords&#39;, &#39;9 ladies&#39;, &#39;8 maids&#39;, &#39;7 swans&#39;, &#39;6 geese&#39;, &#39;5 rings&#39;, &#39;4 birds&#39;, &#39;3 hens&#39;, &#39;2 doves&#39;, &#39;1 partridge&#39;]</code></pre>
<div id="making-your-own-character-classes" class="section level4">
<h4>Making Your Own Character Classes</h4>
<p>[a-zA-Z0-9]會比對找出所有小寫字母,大寫字母或數字</p>
<p>note: 在中括號內的普通正規表達式不會被解釋執行</p>
<p>ex:[0-5.] 會比對找出0到5的數字和句點,我們不需要寫成 [0-5.]</p>
<pre class="python"><code>vowelRegex = re.compile(r&#39;[aeiouAEIOU]&#39;)
vowelRegex.findall(&#39;Robocop eats baby food. BABY FOOD.&#39;)</code></pre>
<pre><code>## [&#39;o&#39;, &#39;o&#39;, &#39;o&#39;, &#39;e&#39;, &#39;a&#39;, &#39;a&#39;, &#39;o&#39;, &#39;o&#39;, &#39;A&#39;, &#39;O&#39;, &#39;O&#39;]</code></pre>
<p>^ 可取得 比對找出不在這個字元分類以外的所有字元</p>
<pre class="python"><code>consonantRegex = re.compile(r&#39;[^aeiouAEIOU]&#39;)
consonantRegex.findall(&#39;Robocop eats baby food. BABY FOOD.&#39;)</code></pre>
<pre><code>## [&#39;R&#39;, &#39;b&#39;, &#39;c&#39;, &#39;p&#39;, &#39; &#39;, &#39;t&#39;, &#39;s&#39;, &#39; &#39;, &#39;b&#39;, &#39;b&#39;, &#39;y&#39;, &#39; &#39;, &#39;f&#39;, &#39;d&#39;, &#39;.&#39;, &#39; &#39;, &#39;B&#39;, &#39;B&#39;, &#39;Y&#39;, &#39; &#39;, &#39;F&#39;, &#39;D&#39;, &#39;.&#39;]</code></pre>
</div>
<div id="the-and-characters" class="section level4">
<h4>The ^ and $ Characters</h4>
<p>r’^Hello’ 是要比對找出符合’Hello’為起始的字串</p>
<pre class="python"><code>beginsWithHello = re.compile(r&#39;^Hello&#39;)
beginsWithHello.search(&#39;Hello world!&#39;)</code></pre>
<pre><code>## &lt;_sre.SRE_Match object; span=(0, 5), match=&#39;Hello&#39;&gt;</code></pre>
<pre class="python"><code>beginsWithHello.search(&#39;He said hello.&#39;) == None</code></pre>
<pre><code>## True</code></pre>
<p>r’\d$’ 是要比對找出符合以數字0到9為結尾的字串</p>
<pre class="python"><code>endsWithNumber = re.compile(r&#39;\d$&#39;)
endsWithNumber.search(&#39;Your number is 42&#39;)</code></pre>
<pre><code>## &lt;_sre.SRE_Match object; span=(16, 17), match=&#39;2&#39;&gt;</code></pre>
<pre class="python"><code>endsWithNumber.search(&#39;Your number is forty two.&#39;) == None</code></pre>
<pre><code>## True</code></pre>
<p>r’^+$’ 是要比對找出至少一個符合以開頭到結尾都是數字0到9的字串</p>
<pre class="python"><code>wholeStringIsNum = re.compile(r&#39;^\d+$&#39;)
wholeStringIsNum.search(&#39;1234567890&#39;)</code></pre>
<pre><code>## &lt;_sre.SRE_Match object; span=(0, 10), match=&#39;1234567890&#39;&gt;</code></pre>
<pre class="python"><code>wholeStringIsNum.search(&#39;12345xyz67890&#39;) == None</code></pre>
<pre><code>## True</code></pre>
<pre class="python"><code>wholeStringIsNum.search(&#39;12 34567890&#39;) == None</code></pre>
<pre><code>## True</code></pre>
</div>
<div id="the-wildcard-character-." class="section level4">
<h4>The Wildcard Character 萬用字元.</h4>
<p>. 子元是萬用字元,尋找除了換行符號的所有字元</p>
<pre class="python"><code>atRegex = re.compile(r&#39;.at&#39;)
atRegex.findall(&#39;The cat in the hat sat on the flat mat.&#39;)</code></pre>
<pre><code>## [&#39;cat&#39;, &#39;hat&#39;, &#39;sat&#39;, &#39;lat&#39;, &#39;mat&#39;]</code></pre>
</div>
<div id="matching-everything-with-dot-star-." class="section level4">
<h4>Matching Everything with Dot-Star 使用.*尋找所有字元</h4>
<pre class="python"><code>nameRegex = re.compile(r&#39;First Name: (.*) Last Name: (.*)&#39;)
mo = nameRegex.search(&#39;First Name: Al Last Name: Sweigart&#39;)
mo.group(1)</code></pre>
<pre><code>## &#39;Al&#39;</code></pre>
<pre class="python"><code>mo.group(2)</code></pre>
<pre><code>## &#39;Sweigart&#39;</code></pre>
<p>greedy and non-greedy</p>
<pre class="python"><code>nongreedyRegex = re.compile(r&#39;&lt;.*?&gt;&#39;)
mo = nongreedyRegex.search(&#39;&lt;To serve man&gt; for dinner.&gt;&#39;)
mo.group()
</code></pre>
<pre><code>## &#39;&lt;To serve man&gt;&#39;</code></pre>
<pre class="python"><code>greedyRegex = re.compile(r&#39;&lt;.*&gt;&#39;)
mo = greedyRegex.search(&#39;&lt;To serve man&gt; for dinner.&gt;&#39;)
mo.group()</code></pre>
<pre><code>## &#39;&lt;To serve man&gt; for dinner.&gt;&#39;</code></pre>
</div>
<div class="section level4">
<h4>比對所有字元,包括換行字元</h4>
<pre class="python"><code>noNewlineRegex = re.compile(&#39;.*&#39;)
noNewlineRegex.search(&#39;Serve the public trust.\nProtect the innocent.\nUphold the law.&#39;).group()
</code></pre>
<pre><code>## &#39;Serve the public trust.&#39;</code></pre>
<pre class="python"><code>newlineRegex = re.compile(&#39;.*&#39;, re.DOTALL)
newlineRegex.search(&#39;Serve the public trust.\nProtect the innocent.\nUphold the law.&#39;).group()</code></pre>
<pre><code>## &#39;Serve the public trust.\nProtect the innocent.\nUphold the law.&#39;</code></pre>
</div>
<div class="section level4">
<h4>比對時不區分大小寫</h4>
<p>把re.I當作第2個引數傳入re.compile</p>
<pre class="python"><code>robocop = re.compile(r&#39;robocop&#39;, re.I)
robocop.search(&#39;Robocop is part man, part machine, all cop.&#39;).group()</code></pre>
<pre><code>## &#39;Robocop&#39;</code></pre>
<pre class="python"><code>robocop.search(&#39;ROBOCOP protects the innocent.&#39;).group()</code></pre>
<pre><code>## &#39;ROBOCOP&#39;</code></pre>
<pre class="python"><code>robocop.search(&#39;Al, why does your programming book talk about robocop so much?&#39;).group()</code></pre>
<pre><code>## &#39;robocop&#39;</code></pre>
</div>
</div>
<div id="sub" class="section level3">
<h3>使用sub()方法取代字串</h3>
<pre class="python"><code>namesRegex = re.compile(r&#39;Agent \w+&#39;)
namesRegex.sub(&#39;CENSORED&#39;, &#39;Agent Alice gave the secret documents to Agent Bob.&#39;)</code></pre>
<pre><code>## &#39;CENSORED gave the secret documents to CENSORED.&#39;</code></pre>
</div>
<div class="section level3">
<h3>正規表達式中使用注釋</h3>
<p>不+注釋:複雜的正規表達式會非常難以閱讀 phoneRegex = re.compile(r’((\d{3}|\(\))?(\s|-|\.)?\d{3}(\s|-|\.)\d{4}</p>
<p>(\s<em>(ext|x|ext.)\s</em>\d{2,5})?)’)</p>
<p>增加注釋:使用re.VERBOSE當作第2個引數傳入re.compile中</p>
<pre><code>phoneRegex = re.compile(r&#39;&#39;&#39;(
    (\d{3}|\(\d{3}\))?              # area code
    (\s|-|\.)?                      # separator
    \d{3}                           # first 3 digits
    (\s|-|\.)                      # separator
    \d{4}                           # last 4 digits
    (\s*(ext|x|ext.)\s*\d{2,5})?  # extension
     )&#39;&#39;&#39;, re.VERBOSE)
     </code></pre>
</div>
<div id="-re.ignorecase-re.dotall-and-re.verbose" class="section level3">
<h3>組合使用 re.IGNORECASE, re.DOTALL, and re.VERBOSE</h3>
<p>想要使用re.VERBOSE增加注釋,還希望用re.IGNORECASE忽略大小寫,但是re.compile只接受一個值當作第二個引數</p>
<p>想解決可使用(|)把re.IGNORECASE, re.DOTALL, and re.VERBOSE組合起來</p>
<p>ex:早要不區分大小寫,且比對尋找時包含換行符號,且增加注釋,可以這樣寫:</p>
<pre class="python"><code>
someRegexValue = re.compile(&#39;foo&#39;, re.IGNORECASE | re.DOTALL | re.VERBOSE)</code></pre>
</div>

    </div>

    


    



    
      








  
  
    
  
  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="/">Hans</a></h5>
      <h6 class="card-subtitle">Professor of Artificial Intelligence</h6>
      <p class="card-text" itemprop="description">My research interests include distributed robotics, mobile computing and programmable matter.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="/#contact" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          
          
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://scholar.google.co.uk/citations?user=sIwtMXoAAAAJ" target="_blank" rel="noopener">
              <i class="ai ai-google-scholar"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/gcushen" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    

    


  </div>
</article>

      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/terms/">Terms</a>
        
  </p>
  

  <p class="powered-by">
    &copy; 2019 Hans &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
